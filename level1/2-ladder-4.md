### 🔶 단위 테스트(UnitTest)

---

#### 🔸 내용
- 단위 테스트는 테스트할 수 있는 가장 작은 단위, 즉 함수 레벨에서의 테스트이다.
- 단위 테스트는 개별 모듈(기능)이 의도한대로 작동하는지를 확인하기 위해 수행된다.
- 주로 어떤 객체에 대해서 Test 클래스를 만들고, 각 함수를 테스트 메서드로 만드는 것 같다.

<br>

#### 🔸 장점
- 원하는 기능만을 빠르게 테스트할 수 있다.
- 실패하는 지점에서의 문제점을 빠르게 찾을 수 있다.
- 리팩토링을 안정적으로 할 수 있다.

<br>

### 🔶 FIRST 원칙

---
#### 🔸 First 
  - 빨라야 한다.
  - 필요한 테스트 데이터(엣지)만 테스트해야 한다.

#### 🔸 Independent
  - 독립적으로 동작해야 한다.
  - `@BeforeEach`를 사용한다면, 그것은 테스트 데이터가 테스트의 결과에 긴밀히 영향을 주지 않는 일반적인 테스트 데이터여야 한다. `@BeforeEach` 안이 바뀜으로써 테스트의 결과가 달라지면 안된다.
  - 다른 테스트 코드의 결과에 따라서 테스트가 좌우되면 안된다. 예를 들어, Game.getScore()가 내부적으로 Player.calculateScore() 를 호출하기만 한다고 하자. 그럼 Game.getScore에 대한 테스트 코드는 작성하지 않아도 된다. 
  
#### 🔸 Repeatable
  - 반복 가능한 결과가 나와야 한다.
  - 랜덤값을 테스트 할 때에도 결과는 동일해야 한다. 이를 위해서 랜덤하게 달라지는 부분은 분리하고, 그렇지 않은 부분만 테스트하는 방법이 있다.
  
#### 🔸 Self-Validating
  - 자체적으로 검증을 해야한다.
  - Console.log() 등과 같이 출력하여 사람이 확인하는게 아니라, 테스트 안에서 통과할 수 있는 부분이 있어야 한다.
  
#### 🔸 Timely
  - 유닛 테스트는 프로덕션 코드가 테스트를 성공하기 전에 구성되어야 한다.
  - TDD를 통해 이를 달성할 수 있다.

<br>

### 🔶 단위 테스트에 대한 견해 차이 - 고전파 vs 런던파

---

#### 🔸 단위 테스트에 대한 두가지 견해
- 단위 테스트의 정의에는 ✌️뉘앙스✌️가 존재한다.
- 이에 해석의 여지가 생겼고, 견해가 크게 2가지로 나누어졌다.
- 고전파와 런던파이다.

<br>

#### 🔸 고전파
- 객체 간의 의존성을 끊기 위해서 테스트 협력자(mock객체)를 사용하지 않는다.
- 한 인스턴스를 테스트하기 위해서 다른 객체가 생성될 수 있다.
- 이 때문에 자연스럽게 협력자 인스턴스에 대한 검증도 진행된다.
- 테스트에 에러가 발생하면 테스트의 주체가 되는 인스턴스와 협력 인스턴스 중 어떤 부분이 문제인지 확인이 어렵다.

<br>

#### 🔸 런던파
- 테스트 대상이 의존(사용)하는 객체를 모두 mock으로 대체한다.
- 의존성을 분리함으로써 오로지 그 객체에 대한 테스트를 진행할 수 있다.
- 빠르고 정확한 원인 진단이 가능하다.
- 고전파의 방법에 의하면, 객체 그래프가 깊어지면 필요한 모든 객체를 추가해줘야한다. 
- 런던파는 이런 문제 없이 간단하게 테스트할 수 있다.
- 하지만 오히려 mock을 설정하는 코드로 인해 가독성이 떨어질 수도 있다.

<br>

#### 🔸 결론
- 현재 짜고 있는 테스트 코드가 단위 테스트의 정의를 정확히 부합하고 있는지에 대해서는 집착할 필요가 없다.
- 단위 테스트의 개념은 '상대적'이다. (from. 좋은 코드 나쁜 코드)
- 개발자에 따라서 선호하는 방식이 다를 수도 있다.
- ⭐가장 중요한 것은 프로젝트의 특징에 따라 코드를 잘 테스트할 수 있고 유지보수하기 쉬운 코드를 구현하는 것이다. ⭐

<br>

참고 블로그 : https://www.google.co.kr/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwix0Y683e6EAxXhsVYBHZ9sBEkQFnoECB8QAQ&url=https%3A%2F%2Faeliketodo.tistory.com%2F141&usg=AOvVaw2FirntHT6_Plxdnopg6lLb&opi=89978449
